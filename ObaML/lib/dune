(include_subdirs unqualified)

(library
 (name ObaML)
 (public_name ObaML)
 (modules
  Ast
  Simple_ast_pretty_printer
  Parser
  Inferencer
  Std
  Typedtree
  State_monad
  Simple_ast
  To_simple_ast
  To_ast
  Alpha_conversion
  Closure_conversion
  Lambda_lifting)
 (libraries base angstrom)
 (preprocess
  (pps ppx_deriving.show ppx_deriving.ord ppx_deriving.eq))
 (instrumentation
  (backend bisect_ppx)))

(library
 (name tests)
 (modules
  Parser_tests
  Infer_tests
  Closure_conversion_tests
  Ast_simplifier_tests
  Alpha_conversion_tests
  Lambda_lifting_tests)
 (libraries ObaML)
 (inline_tests)
 (preprocess
  (pps ppx_expect)))
