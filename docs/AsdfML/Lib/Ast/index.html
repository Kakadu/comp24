<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>Ast (AsdfML.Lib.Ast)</title><meta charset="utf-8"/><link rel="stylesheet" href="../../../_odoc-theme/odoc.css"/><meta name="generator" content="odoc 2.4.3"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../../highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body class="odoc"><nav class="odoc-nav"><a href="../index.html">Up</a> â€“ <a href="../../index.html">AsdfML</a> &#x00BB; <a href="../index.html">Lib</a> &#x00BB; Ast</nav><header class="odoc-preamble"><h1>Module <code><span>Lib.Ast</span></code></h1><p>Copyright 2024, Artem Khelmianov</p></header><div class="odoc-content"><p>SPDX-License-Identifier: LGPL-2.1</p><div class="odoc-spec"><div class="spec type anchored" id="type-id"><a href="#type-id" class="anchor"></a><code><span><span class="keyword">type</span> id</span><span> = string</span></code></div></div><div class="odoc-spec"><div class="spec type anchored" id="type-rec_flag"><a href="#type-rec_flag" class="anchor"></a><code><span><span class="keyword">type</span> rec_flag</span><span> = </span></code><ol><li id="type-rec_flag.Rec" class="def variant constructor anchored"><a href="#type-rec_flag.Rec" class="anchor"></a><code><span>| </span><span><span class="constructor">Rec</span></span></code><div class="def-doc"><span class="comment-delim">(*</span><p>recursive</p><span class="comment-delim">*)</span></div></li><li id="type-rec_flag.NonRec" class="def variant constructor anchored"><a href="#type-rec_flag.NonRec" class="anchor"></a><code><span>| </span><span><span class="constructor">NonRec</span></span></code><div class="def-doc"><span class="comment-delim">(*</span><p>non-recursive</p><span class="comment-delim">*)</span></div></li></ol></div></div><div class="odoc-spec"><div class="spec type anchored" id="type-constant"><a href="#type-constant" class="anchor"></a><code><span><span class="keyword">type</span> constant</span><span> = </span></code><ol><li id="type-constant.CInt" class="def variant constructor anchored"><a href="#type-constant.CInt" class="anchor"></a><code><span>| </span><span><span class="constructor">CInt</span> <span class="keyword">of</span> int</span></code><div class="def-doc"><span class="comment-delim">(*</span><p>42</p><span class="comment-delim">*)</span></div></li><li id="type-constant.CBool" class="def variant constructor anchored"><a href="#type-constant.CBool" class="anchor"></a><code><span>| </span><span><span class="constructor">CBool</span> <span class="keyword">of</span> bool</span></code><div class="def-doc"><span class="comment-delim">(*</span><p>true | false</p><span class="comment-delim">*)</span></div></li><li id="type-constant.CUnit" class="def variant constructor anchored"><a href="#type-constant.CUnit" class="anchor"></a><code><span>| </span><span><span class="constructor">CUnit</span></span></code><div class="def-doc"><span class="comment-delim">(*</span><p>()</p><span class="comment-delim">*)</span></div></li><li id="type-constant.CNil" class="def variant constructor anchored"><a href="#type-constant.CNil" class="anchor"></a><code><span>| </span><span><span class="constructor">CNil</span></span></code><div class="def-doc"><span class="comment-delim">(*</span><p></p><span class="comment-delim">*)</span></div></li></ol></div></div><div class="odoc-spec"><div class="spec type anchored" id="type-type_ann"><a href="#type-type_ann" class="anchor"></a><code><span><span class="keyword">type</span> type_ann</span><span> = </span></code><ol><li id="type-type_ann.TAInt" class="def variant constructor anchored"><a href="#type-type_ann.TAInt" class="anchor"></a><code><span>| </span><span><span class="constructor">TAInt</span></span></code><div class="def-doc"><span class="comment-delim">(*</span><p>int</p><span class="comment-delim">*)</span></div></li><li id="type-type_ann.TABool" class="def variant constructor anchored"><a href="#type-type_ann.TABool" class="anchor"></a><code><span>| </span><span><span class="constructor">TABool</span></span></code><div class="def-doc"><span class="comment-delim">(*</span><p>bool</p><span class="comment-delim">*)</span></div></li><li id="type-type_ann.TAUnit" class="def variant constructor anchored"><a href="#type-type_ann.TAUnit" class="anchor"></a><code><span>| </span><span><span class="constructor">TAUnit</span></span></code><div class="def-doc"><span class="comment-delim">(*</span><p>()</p><span class="comment-delim">*)</span></div></li><li id="type-type_ann.TATuple" class="def variant constructor anchored"><a href="#type-type_ann.TATuple" class="anchor"></a><code><span>| </span><span><span class="constructor">TATuple</span> <span class="keyword">of</span> <span><a href="#type-type_ann">type_ann</a> list</span></span></code><div class="def-doc"><span class="comment-delim">(*</span><p>int * bool</p><span class="comment-delim">*)</span></div></li><li id="type-type_ann.TAFun" class="def variant constructor anchored"><a href="#type-type_ann.TAFun" class="anchor"></a><code><span>| </span><span><span class="constructor">TAFun</span> <span class="keyword">of</span> <a href="#type-type_ann">type_ann</a> * <a href="#type-type_ann">type_ann</a></span></code><div class="def-doc"><span class="comment-delim">(*</span><p>int -&gt; bool</p><span class="comment-delim">*)</span></div></li><li id="type-type_ann.TAList" class="def variant constructor anchored"><a href="#type-type_ann.TAList" class="anchor"></a><code><span>| </span><span><span class="constructor">TAList</span> <span class="keyword">of</span> <a href="#type-type_ann">type_ann</a></span></code><div class="def-doc"><span class="comment-delim">(*</span><p>%type% list</p><span class="comment-delim">*)</span></div></li></ol></div></div><div class="odoc-spec"><div class="spec type anchored" id="type-pattern"><a href="#type-pattern" class="anchor"></a><code><span><span class="keyword">type</span> pattern</span><span> = </span></code><ol><li id="type-pattern.PConst" class="def variant constructor anchored"><a href="#type-pattern.PConst" class="anchor"></a><code><span>| </span><span><span class="constructor">PConst</span> <span class="keyword">of</span> <a href="#type-constant">constant</a></span></code></li><li id="type-pattern.PWild" class="def variant constructor anchored"><a href="#type-pattern.PWild" class="anchor"></a><code><span>| </span><span><span class="constructor">PWild</span></span></code><div class="def-doc"><span class="comment-delim">(*</span><p>_</p><span class="comment-delim">*)</span></div></li><li id="type-pattern.PIdent" class="def variant constructor anchored"><a href="#type-pattern.PIdent" class="anchor"></a><code><span>| </span><span><span class="constructor">PIdent</span> <span class="keyword">of</span> <a href="#type-id">id</a></span></code><div class="def-doc"><span class="comment-delim">(*</span><p>x</p><span class="comment-delim">*)</span></div></li><li id="type-pattern.PTuple" class="def variant constructor anchored"><a href="#type-pattern.PTuple" class="anchor"></a><code><span>| </span><span><span class="constructor">PTuple</span> <span class="keyword">of</span> <span><a href="#type-pattern">pattern</a> list</span></span></code><div class="def-doc"><span class="comment-delim">(*</span><p>(a, b)</p><span class="comment-delim">*)</span></div></li><li id="type-pattern.PList" class="def variant constructor anchored"><a href="#type-pattern.PList" class="anchor"></a><code><span>| </span><span><span class="constructor">PList</span> <span class="keyword">of</span> <span><a href="#type-pattern">pattern</a> list</span></span></code><div class="def-doc"><span class="comment-delim">(*</span><p><code>1, 2, 3</code></p><span class="comment-delim">*)</span></div></li><li id="type-pattern.PCons" class="def variant constructor anchored"><a href="#type-pattern.PCons" class="anchor"></a><code><span>| </span><span><span class="constructor">PCons</span> <span class="keyword">of</span> <a href="#type-pattern">pattern</a> * <a href="#type-pattern">pattern</a></span></code><div class="def-doc"><span class="comment-delim">(*</span><p>hd :: tl</p><span class="comment-delim">*)</span></div></li><li id="type-pattern.PAnn" class="def variant constructor anchored"><a href="#type-pattern.PAnn" class="anchor"></a><code><span>| </span><span><span class="constructor">PAnn</span> <span class="keyword">of</span> <a href="#type-pattern">pattern</a> * <a href="#type-type_ann">type_ann</a></span></code><div class="def-doc"><span class="comment-delim">(*</span><p>(x: int)</p><span class="comment-delim">*)</span></div></li></ol></div></div><div class="odoc-spec"><div class="spec type anchored" id="type-expr"><a href="#type-expr" class="anchor"></a><code><span><span class="keyword">type</span> expr</span><span> = </span></code><ol><li id="type-expr.EConst" class="def variant constructor anchored"><a href="#type-expr.EConst" class="anchor"></a><code><span>| </span><span><span class="constructor">EConst</span> <span class="keyword">of</span> <a href="#type-constant">constant</a></span></code><div class="def-doc"><span class="comment-delim">(*</span><p>42, true, ()</p><span class="comment-delim">*)</span></div></li><li id="type-expr.EVar" class="def variant constructor anchored"><a href="#type-expr.EVar" class="anchor"></a><code><span>| </span><span><span class="constructor">EVar</span> <span class="keyword">of</span> <a href="#type-id">id</a></span></code><div class="def-doc"><span class="comment-delim">(*</span><p>x</p><span class="comment-delim">*)</span></div></li><li id="type-expr.EApp" class="def variant constructor anchored"><a href="#type-expr.EApp" class="anchor"></a><code><span>| </span><span><span class="constructor">EApp</span> <span class="keyword">of</span> <a href="#type-expr">expr</a> * <a href="#type-expr">expr</a></span></code><div class="def-doc"><span class="comment-delim">(*</span><p>f x</p><span class="comment-delim">*)</span></div></li><li id="type-expr.EIfElse" class="def variant constructor anchored"><a href="#type-expr.EIfElse" class="anchor"></a><code><span>| </span><span><span class="constructor">EIfElse</span> <span class="keyword">of</span> <a href="#type-expr">expr</a> * <a href="#type-expr">expr</a> * <a href="#type-expr">expr</a></span></code><div class="def-doc"><span class="comment-delim">(*</span><p>if x then y else z</p><span class="comment-delim">*)</span></div></li><li id="type-expr.EFun" class="def variant constructor anchored"><a href="#type-expr.EFun" class="anchor"></a><code><span>| </span><span><span class="constructor">EFun</span> <span class="keyword">of</span> <span><a href="#type-pattern">pattern</a> list</span> * <a href="#type-expr">expr</a></span></code><div class="def-doc"><span class="comment-delim">(*</span><p>fun x -&gt; y</p><span class="comment-delim">*)</span></div></li><li id="type-expr.ELetIn" class="def variant constructor anchored"><a href="#type-expr.ELetIn" class="anchor"></a><code><span>| </span><span><span class="constructor">ELetIn</span> <span class="keyword">of</span> <a href="#type-definition">definition</a> * <a href="#type-expr">expr</a></span></code><div class="def-doc"><span class="comment-delim">(*</span><p>let x = y in z</p><span class="comment-delim">*)</span></div></li><li id="type-expr.ETuple" class="def variant constructor anchored"><a href="#type-expr.ETuple" class="anchor"></a><code><span>| </span><span><span class="constructor">ETuple</span> <span class="keyword">of</span> <span><a href="#type-expr">expr</a> list</span></span></code><div class="def-doc"><span class="comment-delim">(*</span><p>(x, fun x -&gt; x, 42)</p><span class="comment-delim">*)</span></div></li><li id="type-expr.EList" class="def variant constructor anchored"><a href="#type-expr.EList" class="anchor"></a><code><span>| </span><span><span class="constructor">EList</span> <span class="keyword">of</span> <span><a href="#type-expr">expr</a> list</span></span></code><div class="def-doc"><span class="comment-delim">(*</span><p><code>1; 2; 3</code></p><span class="comment-delim">*)</span></div></li><li id="type-expr.EMatch" class="def variant constructor anchored"><a href="#type-expr.EMatch" class="anchor"></a><code><span>| </span><span><span class="constructor">EMatch</span> <span class="keyword">of</span> <a href="#type-expr">expr</a> * <span><span>(<a href="#type-pattern">pattern</a> * <a href="#type-expr">expr</a>)</span> list</span></span></code><div class="def-doc"><span class="comment-delim">(*</span><p>match x with ...</p><span class="comment-delim">*)</span></div></li></ol></div></div><div class="odoc-spec"><div class="spec type anchored" id="type-definition"><a href="#type-definition" class="anchor"></a><code><span><span class="keyword">and</span> definition</span><span> = </span></code><ol><li id="type-definition.DLet" class="def variant constructor anchored"><a href="#type-definition.DLet" class="anchor"></a><code><span>| </span><span><span class="constructor">DLet</span> <span class="keyword">of</span> <a href="#type-rec_flag">rec_flag</a> * <a href="#type-pattern">pattern</a> * <a href="#type-expr">expr</a></span></code><div class="def-doc"><span class="comment-delim">(*</span><p>let (rec)? x = y</p><span class="comment-delim">*)</span></div></li></ol></div></div><div class="odoc-spec"><div class="spec type anchored" id="type-program"><a href="#type-program" class="anchor"></a><code><span><span class="keyword">type</span> program</span><span> = <span><a href="#type-definition">definition</a> list</span></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-p_const"><a href="#val-p_const" class="anchor"></a><code><span><span class="keyword">val</span> p_const : <span><a href="#type-constant">constant</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-pattern">pattern</a></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-p_wild"><a href="#val-p_wild" class="anchor"></a><code><span><span class="keyword">val</span> p_wild : <a href="#type-pattern">pattern</a></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-p_ident"><a href="#val-p_ident" class="anchor"></a><code><span><span class="keyword">val</span> p_ident : <span><a href="#type-id">id</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-pattern">pattern</a></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-p_tuple"><a href="#val-p_tuple" class="anchor"></a><code><span><span class="keyword">val</span> p_tuple : <span><span><a href="#type-pattern">pattern</a> list</span> <span class="arrow">&#45;&gt;</span></span> <a href="#type-pattern">pattern</a></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-p_list"><a href="#val-p_list" class="anchor"></a><code><span><span class="keyword">val</span> p_list : <span><span><a href="#type-pattern">pattern</a> list</span> <span class="arrow">&#45;&gt;</span></span> <a href="#type-pattern">pattern</a></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-p_cons"><a href="#val-p_cons" class="anchor"></a><code><span><span class="keyword">val</span> p_cons : <span><a href="#type-pattern">pattern</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-pattern">pattern</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-pattern">pattern</a></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-p_ann"><a href="#val-p_ann" class="anchor"></a><code><span><span class="keyword">val</span> p_ann : <span><a href="#type-pattern">pattern</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-type_ann">type_ann</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-pattern">pattern</a></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-e_const"><a href="#val-e_const" class="anchor"></a><code><span><span class="keyword">val</span> e_const : <span><a href="#type-constant">constant</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-expr">expr</a></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-e_var"><a href="#val-e_var" class="anchor"></a><code><span><span class="keyword">val</span> e_var : <span><a href="#type-id">id</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-expr">expr</a></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-e_app"><a href="#val-e_app" class="anchor"></a><code><span><span class="keyword">val</span> e_app : <span><a href="#type-expr">expr</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-expr">expr</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-expr">expr</a></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-e_if_else"><a href="#val-e_if_else" class="anchor"></a><code><span><span class="keyword">val</span> e_if_else : <span><a href="#type-expr">expr</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-expr">expr</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-expr">expr</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-expr">expr</a></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-e_fun"><a href="#val-e_fun" class="anchor"></a><code><span><span class="keyword">val</span> e_fun : <span><span><a href="#type-pattern">pattern</a> list</span> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-expr">expr</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-expr">expr</a></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-e_let_in"><a href="#val-e_let_in" class="anchor"></a><code><span><span class="keyword">val</span> e_let_in : <span><a href="#type-definition">definition</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-expr">expr</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-expr">expr</a></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-e_tuple"><a href="#val-e_tuple" class="anchor"></a><code><span><span class="keyword">val</span> e_tuple : <span><span><a href="#type-expr">expr</a> list</span> <span class="arrow">&#45;&gt;</span></span> <a href="#type-expr">expr</a></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-e_list"><a href="#val-e_list" class="anchor"></a><code><span><span class="keyword">val</span> e_list : <span><span><a href="#type-expr">expr</a> list</span> <span class="arrow">&#45;&gt;</span></span> <a href="#type-expr">expr</a></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-e_match"><a href="#val-e_match" class="anchor"></a><code><span><span class="keyword">val</span> e_match : <span><a href="#type-expr">expr</a> <span class="arrow">&#45;&gt;</span></span> <span><span><span>(<a href="#type-pattern">pattern</a> * <a href="#type-expr">expr</a>)</span> list</span> <span class="arrow">&#45;&gt;</span></span> <a href="#type-expr">expr</a></span></code></div></div></div></body></html>
